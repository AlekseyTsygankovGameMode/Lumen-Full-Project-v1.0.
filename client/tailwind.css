/* /client/tailwind.css */
/* ─────────────────────────────────────────────
   Tailwind entry for Lumen v1.0
   Подключается в index.html перед style.css
   ───────────────────────────────────────────── */

@tailwind base;
@tailwind components;
@tailwind utilities;

/* 🌗 Базовые цвета и адаптация Lumen */
@layer base {
  :root {
    --lumen-light: #f2f5fa;
    --lumen-mid: #4c6fff;
    --lumen-deep: #1f1f2a;
  }

  html, body {
    @apply h-full text-[var(--lumen-light)] font-sans antialiased;
    background: linear-gradient(135deg, #12001f, #2a0a45, #42105f);
  }

  a {
    @apply text-[var(--lumen-mid)] hover:text-[var(--lumen-light)] transition-colors;
  }
}

/* 🪶 Оболочка чата / reasoning */
@layer components {
  .lumen-shell {
    @apply rounded-2xl shadow-lg bg-white/5 backdrop-blur-lg;
  }

  .msg.user {
    @apply bg-white/10 text-white rounded-xl px-4 py-2 self-end;
  }

  .msg.ai {
    @apply bg-white/5 text-white rounded-xl px-4 py-2 self-start;
  }

  input, button {
    @apply rounded-lg outline-none;
  }

  button {
    @apply bg-[var(--lumen-mid)] hover:bg-[var(--lumen-deep)] text-white font-semibold px-4 py-2 transition;
  }

  .lumen-bg {
    @apply bg-gradient-to-br from-[#1c002e] via-[#2a0a45] to-[#5a188b];
  }
}

/* 💫 Анимация "дыхания" */
@keyframes pulse {
  0%, 100% { opacity: 0.8; }
  50% { opacity: 1; }
}

.lumen-breath {
  animation: pulse 3s ease-in-out infinite;
}
/* 🌌 Живой градиентный фон Lumen */
@keyframes lumenGradient {
  0% {
    background: radial-gradient(circle at 20% 20%, #2a0a45, #12001f 70%);
  }
  50% {
    background: radial-gradient(circle at 80% 80%, #42105f, #2a0a45 70%);
  }
  100% {
    background: radial-gradient(circle at 20% 20%, #2a0a45, #12001f 70%);
  }
}

.lumen-live-bg {
  animation: lumenGradient 12s ease-in-out infinite;
  background-size: 200% 200%;
}
/* 🔮 Анимации */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(5px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes esiBar {
  0%, 100% { width: 78%; }
  50% { width: 84%; }
}

.animate-fadeIn {
  animation: fadeIn 0.8s ease forwards;
}

.animate-esi {
  animation: esiBar 3s ease-in-out infinite;
}

/* 🫧 Фон */
@keyframes lumenGradient {
  0% { background: radial-gradient(circle at 20% 20%, #2a0a45, #0e0f14, #42105f); }
  50% { background: radial-gradient(circle at 80% 80%, #3b0a6b, #12001f, #5a188b); }
  100% { background: radial-gradient(circle at 20% 20%, #2a0a45, #0e0f14, #42105f); }
}

.lumen-live-bg {
  animation: lumenGradient 14s ease-in-out infinite;
  background-size: 200% 200%;
}
/* 💫 Lumen Heavy FX */
@keyframes glow {
  0%, 100% { text-shadow: 0 0 19865px #a855f7, 0 0 30px #7e22ce; opacity: 1; }
  50% { text-shadow: 0 0 30px #d946ef, 0 0 60px #7e22ce; opacity: 0.8; }
}

@keyframes fadein {
  from { opacity: 0; }
  to { opacity: 1; }
}

.lumen-heavy-bg {
  background: radial-gradient(circle at 50% 50%, #160028, #0b0016 70%);
  background-size: 200% 200%;
  animation: shiftGradient 25s ease-in-out infinite alternate;
  filter: brightness(1.2) contrast(1.1);
}

@keyframes shiftGradient {
  0% { background-position: 40% 40%; filter: hue-rotate(0deg); }
  50% { background-position: 60% 70%; filter: hue-rotate(90deg); }
  100% { background-position: 50% 50%; filter: hue-rotate(180deg); }
}

.animate-glow {
  animation: glow 3s ease-in-out infinite;
}

.animate-fadein {
  animation: fadein 1.5s ease-in forwards;
}
/* 🌌 LUMEN AURA MODE — Reactive Background */

body {
  @apply min-h-screen antialiased;
  background: radial-gradient(circle at 30% 50%, #3b0a45, #12001f 60%);
  background-size: 200% 200%;
  animation: auraFlow 18s cubic-bezier(0.45, 0, 0.55, 1) infinite alternate;
  transition: background 1s ease-in-out, filter 1s ease-in-out;
}

/* Основное "дыхание" ауры */
@keyframes auraFlow {
  0% {
    background-position: 20% 30%;
    filter: brightness(1);
  }
  25% {
    background-position: 40% 70%;
    filter: brightness(1.05);
  }
  50% {
    background-position: 80% 50%;
    filter: brightness(1.15);
  }
  75% {
    background-position: 60% 20%;
    filter: brightness(1.05);
  }
  100% {
    background-position: 30% 40%;
    filter: brightness(1);
  }
}

/* 🔮 Режим эмоционального отклика — при изменении "тона" */
body[data-tone="calm"] {
  background: radial-gradient(circle at 25% 45%, #1a0030, #0f001f 70%);
}

body[data-tone="curious"] {
  background: radial-gradient(circle at 60% 50%, #3b0a45, #12001f 60%);
}

body[data-tone="empathetic"] {
  background: radial-gradient(circle at 40% 55%, #520050, #1f002e 65%);
}

body[data-tone="focused"] {
  background: radial-gradient(circle at 50% 50%, #001f3f, #000010 70%);
}

/* 💫 Эффект дыхания по свету */
@keyframes lumenBreath {
  0%, 100% { box-shadow: 0 0 20px rgba(147, 197, 253, 0.2); }
  50% { box-shadow: 0 0 40px rgba(147, 197, 253, 0.4); }
}

/* Применение дыхания к чату */
.lumen-shell {
  animation: lumenBreath 4s ease-in-out infinite;
  backdrop-filter: blur(12px);
  @apply bg-white/10 rounded-2xl shadow-lumen-glow p-6;
}